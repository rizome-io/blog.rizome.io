{"version":3,"file":"component---plugins-gatsby-theme-orga-posts-core-src-templates-home-query-js-4c9092dfda5a56b66b38.js","mappings":"2UA2CMA,EAAiB,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,IAAKC,EAAe,EAAfA,SAC7B,OAAKD,GACE,QAAC,KAAD,CAAME,GAAIF,GAAMC,IADN,qBCzCnB,ED6CA,SAAe,GAAsC,IAAnCE,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAE1BC,IADaC,EAAAA,EAAAA,KAAXC,OACML,EAAKM,WAAWC,OACvBC,EAAQN,EAARM,KACDC,EAAWR,EAASS,SAASC,QAAQ,IAAIC,OAAJ,MAA4B,IACjEC,EAAW,IACf,KAAS,SAACC,EAAKC,GAAN,wBAAgBD,GAAhB,CAAqBC,EAAEN,WAAvB,OAAqCM,EAAEP,MAAQ,OAAM,IAD/C,SAIfL,GAEMa,EAAwBd,EAAxBc,KAAMC,EAAkBf,EAAlBe,KAAMC,EAAYhB,EAAZgB,QAEpB,OACE,QAAC,IAAD,MACE,QAAC,IAAD,CAAKC,MAAM,OAAON,SAAUA,KAC5B,QAAC,IAAD,CAAML,KAAMA,KACZ,gBAAMY,GAAI,CAAEC,KAAM,IACfZ,GAAYA,EAASa,OAAS,GAAKC,MAAMd,KACxC,QAAC,KAAD,CACEe,GAAG,KACHJ,GAAI,CACFK,GAAI,EACJC,GAAI,EACJC,cAAe,YACfC,UAAW,SACXC,cAAe,UAGhBpB,IAGL,QAAC,IAAD,CAAUN,MAAOA,EAAOe,QAASA,MAEnC,QAAC,KAAD,CAAME,GAAI,CAAEU,eAAgB,gBAAiBC,MAAO,UAClD,QAACnC,EAAD,CAAgBC,IAAKoB,GAArB,wBACA,QAACrB,EAAD,CAAgBC,IAAKmB,GAArB","sources":["webpack://blog.rizome.io/./plugins/gatsby-theme-orga-posts/src/components/home.tsx","webpack://blog.rizome.io/./plugins/gatsby-theme-orga-posts-core/src/templates/home-query.js"],"sourcesContent":["/** @jsx jsx */\nimport { Link } from 'gatsby'\nimport _ from 'lodash/fp'\nimport { Box, Flex, Heading, jsx, Text } from 'theme-ui'\nimport { useSiteMetadata } from '../hooks'\nimport Layout from './layout'\nimport PostList from './post-list'\nimport SEO from './seo'\nimport Tags from './tags'\n\nconst rootPath = `${__PATH_PREFIX__}/`\n\nexport const Post = ({ id, date, title, category, tags, excerpt, slug }) => {\n  return (\n    <Flex\n      key={`p-${id}`}\n      sx={{\n        bg: 'surface',\n        px: 3,\n        py: 2,\n        borderRadius: 6,\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n        transition: '0.3s',\n        '&:hover': { bg: 'highlight' },\n      }}\n    >\n      <Link href={`${slug}`}>\n        <Box py={2}>\n          <Text variant=\"caption\" color=\"gray\">\n            {date}\n          </Text>\n          <Heading as=\"h1\" color=\"primary\">\n            {title}\n          </Heading>\n          <Text color=\"text\">{excerpt}</Text>\n        </Box>\n      </Link>\n      <Tags tags={tags} />\n    </Flex>\n  )\n}\n\nconst PaginationLink = ({ url, children }) => {\n  if (!url) return <div></div>\n  return <Link to={url}>{children}</Link>\n}\n\nexport default ({ data, location, pageContext }) => {\n  const { author } = useSiteMetadata()\n  const posts = data.allOrgPost.nodes\n  const {tags} = pageContext\n  const category = location.pathname.replace(new RegExp(`^${rootPath}`), '')\n  const keywords = _.flow(\n    _.reduce((all, p) => [...all, p.category, ...(p.tags || [])], []),\n    _.uniq,\n    _.compact\n  )(posts)\n\n  const { next, prev, columns } = pageContext\n\n  return (\n    <Layout>\n      <SEO title=\"Home\" keywords={keywords} />\n      <Tags tags={tags} />\n      <main sx={{ flex: 1 }}>\n        {category && category.length > 0 && isNaN(category) && (\n          <Heading\n            as=\"h1\"\n            sx={{\n              pt: 4,\n              pb: 4,\n              textTransform: 'uppercase',\n              textAlign: 'center',\n              letterSpacing: '0.1em',\n            }}\n          >\n            {category}\n          </Heading>\n        )}\n        <PostList posts={posts} columns={columns} />\n      </main>\n      <Flex sx={{ justifyContent: 'space-between', width: '100%' }}>\n        <PaginationLink url={prev}>◄ more recent posts</PaginationLink>\n        <PaginationLink url={next}>older posts ►</PaginationLink>\n      </Flex>\n    </Layout>\n  )\n}\n","import { graphql } from 'gatsby'\nimport HomePage from '../components/home'\n\nexport default HomePage\n\nexport const query = graphql`\n  query HomePostsQuery($ids: [String!]!, $width: Int!, $height: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allOrgPost(\n      filter: { id: { in: $ids } }\n      sort: { fields: [date, title], order: DESC }\n    ) {\n      nodes {\n        id\n        title\n        category\n        excerpt\n        date(formatString: \"MMMM DD, YYYY\")\n        tags\n        slug\n        image {\n          childImageSharp {\n            gatsbyImageData(width: $width, height: $height)\n          }\n        }\n      }\n    }\n  }\n`\n"],"names":["PaginationLink","url","children","to","data","location","pageContext","posts","useSiteMetadata","author","allOrgPost","nodes","tags","category","pathname","replace","RegExp","keywords","all","p","next","prev","columns","title","sx","flex","length","isNaN","as","pt","pb","textTransform","textAlign","letterSpacing","justifyContent","width"],"sourceRoot":""}